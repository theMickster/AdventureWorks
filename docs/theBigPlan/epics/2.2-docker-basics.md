# Epic 2.2: Docker Basics

**Initiative**: [Initiative 2 - Event-Driven Microservices + Production Infrastructure](../initiatives/02-event-driven-microservices-infrastructure.md)
**Timeline**: Week 10
**Estimated Story Points**: 40-50
**Status**: Not Started

---

## Epic Overview

**As a developer, I want Docker containerization for API and Frontend, so that I can run the entire application stack with a single `docker-compose up` command.**

---

## Epic Success Criteria (Gherkin Format)

**Given** Docker is configured
**When** I run `docker-compose up`
**Then** I should have:
- ✅ API container running on port 5000
- ✅ Frontend container running on port 4200
- ✅ SQL Server container with AdventureWorks database
- ✅ All services healthy and communicating
- ✅ Hot reload working for local development

---

## Features

### Feature 2.2.1: Dockerfile for .NET API
**As a developer, I want a multi-stage Dockerfile for the API.**

**Acceptance Criteria**: Multi-stage build (build → publish → runtime), optimized image size, health check configured.
**Key Files**: `apps/api-dotnet/Dockerfile`
**Estimated Story Points**: 8

---

### Feature 2.2.2: Dockerfile for Angular Frontend
**As a developer, I want a Dockerfile for the frontend using nginx.**

**Acceptance Criteria**: Multi-stage build (npm build → nginx), production-ready nginx config, environment variable support.
**Key Files**: `apps/angular-web/Dockerfile`, `apps/angular-web/nginx.conf`
**Estimated Story Points**: 8

---

### Feature 2.2.3: docker-compose for Local Development
**As a developer, I want docker-compose orchestrating all services.**

**Acceptance Criteria**: Services: API, Frontend, SQL Server, networks configured, volume mounts for local dev, environment variables.
**Key Files**: `docker-compose.yml`, `docker-compose.override.yml`
**Estimated Story Points**: 13

---

### Feature 2.2.4: SQL Server Container with AdventureWorks
**As a developer, I want SQL Server container with AdventureWorks schema.**

**Acceptance Criteria**: SQL Server container, initialization script creates schema, volume for persistence.
**Key Files**: `database/init.sql`
**Estimated Story Points**: 8

---

### Feature 2.2.5: Docker Documentation
**As a developer, I want documentation for Docker setup.**

**Acceptance Criteria**: README with setup instructions, troubleshooting common issues, environment variable reference.
**Key Files**: `docs/docker-setup.md`
**Estimated Story Points**: 5

---

## Epic Summary

### Total Estimated Story Points: 42

### Key Deliverables
- ✅ Dockerfile for API (multi-stage, optimized)
- ✅ Dockerfile for Frontend (nginx)
- ✅ docker-compose for local development
- ✅ SQL Server container with AdventureWorks
- ✅ Documentation for Docker setup

---

**Document Version**: 1.0
**Last Updated**: 2026-01-17
**Status**: Ready for Implementation
