# Epic 2.5: Polyglot Integration Function

**Initiative**: [Initiative 2 - Event-Driven Microservices + Production Infrastructure](../initiatives/02-event-driven-microservices-infrastructure.md)
**Timeline**: Week 14
**Estimated Story Points**: 60-70
**Status**: Not Started

---

## Epic Overview

**As a developer, I want a polyglot function (Go or Node.js) integrating with external APIs, so that the application can leverage multiple languages and demonstrate microservices flexibility.**

---

## Epic Success Criteria (Gherkin Format)

**Given** the polyglot function is deployed
**When** it is invoked
**Then**:
- ✅ Function written in Go or Node.js (non-.NET)
- ✅ Calls external API (e.g., weather, stock prices, geocoding)
- ✅ Handles errors and retries gracefully
- ✅ Returns data to caller with correlation ID
- ✅ Logs all operations for observability

---

## Features

### Feature 2.5.1: Choose Language and External API
**As a developer, I want to choose between Go or Node.js and select an external API.**

**Acceptance Criteria**: Decision documented, external API selected (e.g., OpenWeather, Alpha Vantage, Google Maps).
**Estimated Story Points**: 3

---

### Feature 2.5.2: Go/Node.js Function Setup
**As a developer, I want the function project scaffolded.**

**Acceptance Criteria**: Function project created, HTTP trigger configured, local development working.
**Key Files**: `apps/microservices/integration-function-go/main.go` or `apps/microservices/integration-function-node/index.js`
**Estimated Story Points**: 8

---

### Feature 2.5.3: External API Integration
**As a developer, I want the function calling external API.**

**Acceptance Criteria**: HTTP client configured, API call with error handling, parse response, return structured data.
**Estimated Story Points**: 13

---

### Feature 2.5.4: Error Handling and Retry Logic
**As a developer, I want robust error handling.**

**Acceptance Criteria**: Retry on transient failures (exponential backoff), log errors, return meaningful error messages.
**Estimated Story Points**: 13

---

### Feature 2.5.5: Correlation ID Logging
**As a developer, I want correlation IDs in all logs.**

**Acceptance Criteria**: Extract correlation ID from header, include in all log statements, return in response.
**Estimated Story Points**: 8

---

### Feature 2.5.6: Unit Tests for Function
**As a developer, I want unit tests for function logic.**

**Acceptance Criteria**: Tests for: API call logic, error handling, retry logic, mock external API.
**Estimated Story Points**: 13

---

## Epic Summary

### Total Estimated Story Points: 58

### Key Deliverables
- ✅ Polyglot function (Go or Node.js)
- ✅ External API integration
- ✅ Error handling and retry logic
- ✅ Correlation ID logging
- ✅ Unit test coverage

---

**Document Version**: 1.0
**Last Updated**: 2026-01-17
**Status**: Ready for Implementation
